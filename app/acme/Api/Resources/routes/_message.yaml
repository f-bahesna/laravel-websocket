"chat::message.list":
    type: resource
    resource: message
    only: [index]
    methods: [GET]
    path: /chatrooms/{chatroom}/messages
    options:
        repos:
            index:
                call: findAllMessageByChatroom
                arguments: [chatroom]
        paginate: true

"chat::message.send-message":
    type: message
    message: send-message
    path: /chatrooms/{chatroom}/users/{user}/send-message
    methods: [POST]
    rules: ["chat::message.send-message"]

"chat::message.send-attachment":
    type: message
    message: send-attachment
    path: /chatrooms/{chatroom}/users/{user}/send-attachment
    methods: [POST]
    rules: ["chat::message.send-attachment"]